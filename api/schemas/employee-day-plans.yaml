# Employee Day Plan schemas
EmployeeDayPlanSource:
  type: string
  enum:
    - tariff
    - manual
    - holiday

EmployeeDayPlan:
  type: object
  properties:
    id:
      type: string
      format: uuid
    tenant_id:
      type: string
      format: uuid
    employee_id:
      type: string
      format: uuid
    plan_date:
      type: string
      format: date
    day_plan_id:
      type: string
      format: uuid
    source:
      $ref: '#/EmployeeDayPlanSource'
    notes:
      type: string
    created_at:
      type: string
      format: date-time
    updated_at:
      type: string
      format: date-time
    day_plan:
      $ref: 'day-plans.yaml#/DayPlan'
  required:
    - id
    - tenant_id
    - employee_id
    - plan_date
    - source

EmployeeDayPlanList:
  type: object
  properties:
    items:
      type: array
      items:
        $ref: '#/EmployeeDayPlan'
    next_cursor:
      type: string
  required:
    - items

CreateEmployeeDayPlanRequest:
  type: object
  properties:
    employee_id:
      type: string
      format: uuid
    plan_date:
      type: string
      format: date
    day_plan_id:
      type: string
      format: uuid
      description: If null, marks the day as an off day
    source:
      $ref: '#/EmployeeDayPlanSource'
    notes:
      type: string
  required:
    - employee_id
    - plan_date

UpdateEmployeeDayPlanRequest:
  type: object
  properties:
    day_plan_id:
      type: string
      format: uuid
      description: If null, marks the day as an off day
    source:
      $ref: '#/EmployeeDayPlanSource'
    notes:
      type: string

BulkCreateEmployeeDayPlanRequest:
  type: object
  properties:
    plans:
      type: array
      items:
        type: object
        properties:
          employee_id:
            type: string
            format: uuid
          plan_date:
            type: string
            format: date
          day_plan_id:
            type: string
            format: uuid
          source:
            $ref: '#/EmployeeDayPlanSource'
          notes:
            type: string
        required:
          - employee_id
          - plan_date
  required:
    - plans

DeleteRangeRequest:
  type: object
  properties:
    employee_id:
      type: string
      format: uuid
    from:
      type: string
      format: date
    to:
      type: string
      format: date
  required:
    - employee_id
    - from
    - to
